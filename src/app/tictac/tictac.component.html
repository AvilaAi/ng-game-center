<app-navigation></app-navigation>
<div class="container d-flex ">
  <div class="row d-flex justify-content-center" style="width: 100%">
    <main
      class="
        d-flex
        flex-column
        position-relative
        align-items-center
        justify-content-center
        col col-12 col-lg-10
      "
    >
      <h2 class="mb-1 text-center text-warning">{{ title }}</h2>
      <p class="ms-auto me-5 text-light">
        {{ userAvatar }}
        <span class="badge bg-light text-dark">{{ score }} </span>
        :
        <span class="badge bg-light text-dark"> {{ computerScore }}</span> ðŸ¤–
      </p>
      <div class="board p-0 mx-auto">
        <button
          class="btn btn-outline-secondary"
          type="button"
          *ngFor="let n of numbers; let id = index"
          (click)="drawX(id)"
          [disabled]="
            currentPlayer === o || spaceO.indexOf(id) < 0 || winner.length > 0
          "
          aria-label="button-clickble"
        >
          <p
            class="my-0"
            [ngClass]="{
              winStyle: winLine.indexOf(id) !== -1,
              oStyle: occupO.indexOf(id) !== -1
            }"
          >
            {{ occupX.indexOf(id) !== -1 ? "x" : "" }}
            {{ occupO.indexOf(id) !== -1 ? "o" : "" }}
          </p>
        </button>
      </div>

      <div
        *ngIf="winner.length > 0"
        class="
          shadow-lg
          bg-dark
          position-absolute
          d-flex
          flex-column
          align-items-center
        "
        style="left: 50%; top: 50%; transform: translate(-50%, -20%)"
      >
        <h2 class="text-center text-light m-3">
          {{
            winner === x
              ? "You Win!"
              : winner === o
              ? "Computer Wins!"
              : winner === nulGame && "Game Nul"
          }}
        </h2>
        <button class="btn btn-warning m-3" (click)="ngOnInit()">
          Restart
        </button>
      </div>
    </main>
    <div class="col col-10 col-lg-2">
      <app-ranking [newScore]="score"></app-ranking>
    </div>
  </div>
</div>

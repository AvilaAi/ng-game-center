<app-navigation></app-navigation>
<h2 class="mb-4 text-center text-warning">{{ title }}</h2>

<div class="container px-2">
  <div *ngIf="!isGameStart" class="modal-dialog m-auto shadow-lg rounded">
    <div class="modal-content d-block p-4 bg-dark text-light">
      <h4 class="mb-5">{{ message }}</h4>
      <button class="btn btn-warning" (click)="toStartGame()">
        {{ timer === 0 ? "Restart" : "Start" }}
      </button>
    </div>
  </div>
  <div class="row g-5 card-container m-auto">
    <h5 class="col col-sm-12 mt-0">
      <span class="badge bg-light text-dark"> Time: {{ timer }} </span>
    </h5>
    <div
      class="col col-sm-4 col-md-3 my-2"
      *ngFor="let num of numbers; let i = index"
    >
      <div
        class="container-fluid shadow-lg p-0 border-0"
        (click)="flipCard(i)"
        [ngClass]="
          checkedCard.indexOf(i) > -1 || matchedCard.indexOf(i) > -1
            ? 'visible'
            : ''
        "
        [ngStyle]="{
          'pointer-events':
            checkedCard.indexOf(i) > -1 ||
            matchedCard.indexOf(i) > -1 ||
            !isGameStart ||
            checkedCard.length >= 2
              ? 'none'
              : 'auto'
        }"
      >
        <div class="card card-front">
          <img
            src="https://pokeres.bastionbot.org/images/pokemon/{{
              randomArray[i] + random
            }}.png"
            alt="pokemon"
          />
        </div>
        <div class="card card-back p-0 border-0">
          <img src="../../assets/images/pokemon-card-back.png" alt="pokemon" />
        </div>
      </div>
    </div>
  </div>
</div>
